@import 'collections/colors'
@import 'collections/citations'

// ======= Toggleable Bibliography Heading
#abt-smart-bib
    &.noselect
        user-select inherit
    h3.toggle
        margin-left -30px
        &:hover
            cursor pointer
        &:before
            content '\f140'
            font-family 'dashicons'
            position relative
            font-size 30px
            top 5px
        &.abt-hidden:before
            content '\f139'
    .abt-url
        display inline


// ======== Tooltips =========
.abt-tooltip
    border-radius 3px
    padding 8px
    position absolute
    margin auto
    font-size 0.75em
    background-color white
    box-shadow 0 0 20px rgba(0,0,0,.20)
    z-index 20
    animation fadeInDown .2s
    p
        margin 0 !important
    .abt-url
        display inline


@keyframes fadeInUp
    from
        opacity 0
        transform translate3d(0, 10px, 0)
    to
        opacity 1
        transform none


@keyframes fadeInDown
    from
        opacity 0
        transform translate3d(0, -10px, 0)
    to
        opacity 1
        transform none


.abt-tooltip-arrow
    content ''
    position absolute
    margin-left -8px
    border-width 8px
    border-style solid
    pointer-events none

    &.abt-arrow-up
        border-color transparent transparent white
        top -15px

    &.abt-arrow-down
        border-color white transparent transparent
        bottom -15px


.abt-tooltip-touch-close-container
    width 50px
    height 50px
    position absolute
    top -10px
    right -10px
    text-align right


.abt-tooltip-touch-close
    position relative
    border-radius 50%
    width 26px
    height 26px
    box-sizing border-box
    display inline-block
    vertical-align middle
    font-style normal
    color $light-gray
    background $dark-gray
    text-indent -9999px
    transform rotate(45deg)

    &:before,&:after
        content ''
        left 50%
        top 50%
        box-shadow inset 0 0 0 32px
        position absolute
        transform translate(-50%, -50%)

    &:before
        width 14px
        pointer-events none
        height 2px

    &:after
        height 14px
        pointer-events none
        width 2px


.noselect
    -webkit-touch-callout none
    -webkit-user-select none
    -khtml-user-select none
    -moz-user-select none
    -ms-user-select none
    user-select none


// ===== Inline Citations ========

span.abt-cite > *
    pointer-events none

.abt-cite
    white-space nowrap


.abt-cite:hover
    cursor pointer


// Peer Review Box
abt-PR-heading
    cursor pointer
    border-bottom 4px solid
    border-radius 5px
    background $light-gray
    padding 15px
    text-align center
    margin 10px 0 !important


abt-PR-heading:hover
    background $light-gray


abt-PR-heading:active
    border-bottom 1px solid
    padding-top 18px


.abt-PR-info
    display inline-block
    float left
    width 30%
    position relative
    top 0
    text-align center
    font-size 10px
    margin-bottom 10px
    margin-right 5px


.abt-PR-info strong
    font-size 14px


.abt-PR-headshot
    display block
    margin-left auto
    margin-right auto
    height auto
    min-width 100px


.abt-chat-bubble
    display inline-block
    position relative
    width 63%
    min-height 100px
    margin auto 0 20px 0
    background $light-gray
    border-radius 8px
    padding 15px
    border-left 1px solid $dark-gray
    border-top 1px solid $dark-gray
    box-shadow 1px 1px 1px $dark-gray


.abt-chat-bubble:after
    content ''
    position absolute
    background-color $light-gray
    width 20px
    height 20px
    transform rotate(45deg)
    z-index 1
    margin-top -15px
    left -11px
    top 60px
    border-left 1px solid $dark-gray
    border-bottom 1px solid $dark-gray


// Horizontal Rule -- Visible only in editor
.abt-editor-only
    display none


@media only screen and (max-width 620px)
    .abt-PR-info
        display block
        width 100%
        padding-top 10px
        padding-bottom 20px


    .abt-chat-bubble
        width 100%


    .abt-PR-info:before
        content ''
        width 20px
        height 20px
        background-color $light-gray
        border-right 1px solid $dark-gray
        border-bottom 1px solid $dark-gray
        position absolute
        top -30px
        transform rotate(45deg)
        z-index 1


    .abt-chat-bubble:after
        display none
